<head>
    <title>ducking</title>
</head>

<body>
<h1>Welcome to Meteor!</h1>

{{> login}}
{{> search}}
{{> protected}}

</body>

<template name="login">
    {{> loginButtons}}
</template>

<template name="protected">
    {{#if currentUser}}
        <div id="protected">Protected Content.</div>
        {{> skills}}
    {{/if}}
</template>

<template name="skills">
    {{#if hasSkills}}
        <div id="skills-list">
            <label>Skills:</label>
            <ul>
                {{#each getSkills}}
                    <li>
                        {{skill}}
                        <a href="#" data-id="{{_id}}" class="remove-skill-link">X</a>
                    </li>
                {{/each}}
            </ul>
        </div>
    {{else}}
        <div id="no-skills">You have you no skills in the database.</div>
    {{/if}}
    {{> skillEntry}}
</template>

<template name="skillEntry">
    <form id="skill-entry-form">
        <fieldset>
            Add Skill: <input id="add-skill-input" type="text" value=""/>
            <button id="add-skill-button">Add</button>
        </fieldset>
    </form>
</template>

<template name="search">
    <form id="skill-search-form">
        <fieldset>
            <input id="search-skill-input" type="text" value="" />
            <button id="search-skill-button">Search</button>
        </fieldset>
    </form>
    {{> searchResults}}
</template>

<template name="searchResults">
    {{#if hasResults}}
        <div id="email-list">
            <label>Users with skill:</label>
            <ul>
                {{#each getResults}}
                    <li>
                        <span id="{{strip this}}">{{this}}</span>
                    </li>
                {{/each}}
            </ul>
        </div>
    {{else}}
        <div id="no-results">No one has listed this skill in the database.</div>
    {{/if}}
</template>